<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">


<title data-react-helmet="true">Jitsi Meets Docker | Easy Jitsi Documentation</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Jitsi Meets Docker | Easy Jitsi Documentation"><meta data-react-helmet="true" name="description" content="[&lt;img src=&quot;/img/dockerjitsi.png&quot; &gt;&lt;/img&gt;]()"><meta data-react-helmet="true" property="og:description" content="[&lt;img src=&quot;/img/dockerjitsi.png&quot; &gt;&lt;/img&gt;]()"><meta data-react-helmet="true" property="og:url" content="https://docs.easyjitsi.com/docs/docker">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.24355c4d.css">


<link rel="preload" href="/styles.82f14910.js" as="script">

<link rel="preload" href="/runtime~main.148c955e.js" as="script">

<link rel="preload" href="/main.1702c4c9.js" as="script">

<link rel="preload" href="/1.2b455fe7.js" as="script">

<link rel="preload" href="/2.2ed969c9.js" as="script">

<link rel="preload" href="/3.a529c8c9.js" as="script">

<link rel="preload" href="/1be78505.f5a7fa9c.js" as="script">

<link rel="preload" href="/20ac7829.25a5a62a.js" as="script">

<link rel="preload" href="/17896441.d94633b5.js" as="script">

<link rel="preload" href="/93234bd6.783c9667.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Easy Jitsi"><strong class="navbar__title">Easy Jitsi</strong></a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://easyjitsi.com" class="navbar__item navbar__link">Homepage</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/easyjitsi/docs.easyjitsi.com" class="navbar__item navbar__link">GitHub</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/easyjitsi/docs.easyjitsi.com/blob/master/LICENSE" class="navbar__item navbar__link">License</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Easy Jitsi"><strong class="navbar__title">Easy Jitsi</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://easyjitsi.com" class="menu__link">Homepage</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/easyjitsi/docs.easyjitsi.com" class="menu__link">GitHub</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/easyjitsi/docs.easyjitsi.com/blob/master/LICENSE" class="menu__link">License</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Welcome</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/welcome">Preface</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/intro">Introduction To Easy Jitsi</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction To Jitsi</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introtojitsi">Understanding Jitsi</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/architecture">Architecture of Jitsi</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/benchmarks">Benchmarks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/gettingstarted">Starting Out</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/quickstart">Install Jitsi With One Line</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/installation">Installation of Jitsi Meet</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/securedomain">Secure Domain</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Recording with Jibri</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/gettingstartedjibri">Starting Out With Jibri</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/installingdep">Installing Necessary Dependencies</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/config">Configuration of Jitsi For Recording</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/jibri">Configuration of Jibri For Recording</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Customizing the UI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/jitsiui">Customizing The Jitsi Meet UI</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Jitsi &amp; Docker</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/docker">Jitsi Meets Docker</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Integrating Jitsi with Your Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/iframeapi">Integrating the Jitsi Iframe Api</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/jitsireact">Using the iframe API with React</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/scaling">Scaling Jitsi</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/loadbalancing">Load Balancing Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/extensions">Extending Jitsi</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tips">Tips For Deploying Jitsi</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Jitsi Meets Docker</h1></header><div class="markdown"><p><a href=""><img src="/img/dockerjitsi.png"></a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="quick-start"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#quick-start" title="Direct link to heading">#</a>Quick start</h2><p>In order to quickly run Jitsi Meet on a machine running Docker and Docker Compose,
follow these steps:</p><ul><li>Clone this repository to your computer.<ul><li><code>git clone https://github.com/jitsi/docker-jitsi-meet &amp;&amp; cd docker-jitsi-meet</code></li></ul></li><li>Create a <code>.env</code> file by copying and adjusting <code>env.example</code><ul><li><code>cp env.example .env</code></li><li>Set strong passwords in the security section options: <code>./gen-passwords.sh</code></li></ul></li><li>Create required <code>CONFIG</code> directories<ul><li><code>mkdir -p ~/.jitsi-meet-cfg/{web/letsencrypt,transcripts,prosody,jicofo,jvb,jigasi,jibri}</code></li></ul></li><li>Run <code>docker-compose up -d</code>.</li><li>Access the web UI at <a href="https://localhost:8443"><code>https://localhost:8443</code></a> (or a different port, in case you edited the compose file).</li></ul><p>Note that HTTP (not HTTPS) is also available (on port 8000, by default), but that&#x27;s e.g. for a reverse proxy setup;
direct access via HTTP instead HTTPS leads to WebRTC errors such as <em>Failed to access your microphone/camera: Cannot use microphone/camera for an unknown reason. Cannot read property &#x27;getUserMedia&#x27; of undefined</em> or <em>navigator.mediaDevices is undefined</em>.</p><p>If you want to use jigasi too, first configure your env file with SIP credentials
and then run Docker Compose as follows: <code>docker-compose -f docker-compose.yml -f jigasi.yml up</code></p><p>If you want to enable document sharing via [Etherpad], configure it and run Docker Compose as
follows: <code>docker-compose -f docker-compose.yml -f etherpad.yml up</code></p><p>If you want to use jibri too, first configure a host as described in JItsi BRoadcasting Infrastructure configuration section
and then run Docker Compose as follows: <code>docker-compose -f docker-compose.yml -f jibri.yml up -d</code>
or to use jigasi too: <code>docker-compose -f docker-compose.yml -f jigasi.yml -f jibri.yml up -d</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="security-note"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#security-note" title="Direct link to heading">#</a>Security note</h3><p>This setup used to have default passwords for internal accounts used across components. In order to make the default setup
secure by default these have been removed and the respective containers won&#x27;t start without having a password set.</p><p>Strong passwords may be generated as follows: <code>./gen-passwords.sh</code>
This will modify your <code>.env</code> file (a backup is saved in <code>.env.bak</code>) and set strong passwords for each of the
required options. Passwords are generated using <code>openssl rand -hex 16</code> .</p><p>DO NOT reuse any of the passwords.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="architecture"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#architecture" title="Direct link to heading">#</a>Architecture</h2><p>A Jitsi Meet installation can be broken down into the following components:</p><ul><li>A web interface</li><li>An XMPP server</li><li>A conference focus component</li><li>A video router (could be more than one)</li><li>A SIP gateway for audio calls</li><li>A Broadcasting Infrastructure for recording or streaming a conference.</li></ul><p><a href=""><img src="/img/docker.png"></a></p><p>The diagram shows a typical deployment in a host running Docker. This project
separates each of the components above into interlinked containers. To this end,
several container images are provided.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="external-ports"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#external-ports" title="Direct link to heading">#</a>External Ports</h3><p>The following external ports must be opened on a firewall:</p><ul><li>80/tcp for Web UI HTTP (really just to redirect, after uncommenting ENABLE_HTTP_REDIRECT=1 in .env)</li><li>443/tcp for Web UI HTTPS</li><li>4443/tcp for RTP media over TCP</li><li>10000/udp for RTP media over UDP</li></ul><p>Also 20000-20050/udp for jigasi, in case you choose to deploy that to facilitate SIP access.</p><p>E.g. on a CentOS/Fedora server this would be done like this (without SIP access):</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> firewall-cmd --permanent --add-port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">80</span><span class="token plain">/tcp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> firewall-cmd --permanent --add-port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">443</span><span class="token plain">/tcp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> firewall-cmd --permanent --add-port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">4443</span><span class="token plain">/tcp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> firewall-cmd --permanent --add-port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">10000</span><span class="token plain">/udp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> firewall-cmd --reload</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="images"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#images" title="Direct link to heading">#</a>Images</h3><ul><li><strong>base</strong>: Debian stable base image with the [S6 Overlay] for process control and the
[Jitsi repositories] enabled. All other images are based on this one.</li><li><strong>base-java</strong>: Same as the above, plus Java (OpenJDK).</li><li><strong>web</strong>: Jitsi Meet web UI, served with nginx.</li><li><strong>prosody</strong>: [Prosody], the XMPP server.</li><li><strong>jicofo</strong>: [Jicofo], the XMPP focus component.</li><li><strong>jvb</strong>: [Jitsi Videobridge], the video router.</li><li><strong>jigasi</strong>: [Jigasi], the SIP (audio only) gateway.</li><li><strong>etherpad</strong>: [Etherpad], shared document editing addon.</li><li><strong>jibri</strong>: [Jibri], the broadcasting infrastructure.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="design-considerations"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#design-considerations" title="Direct link to heading">#</a>Design considerations</h3><p>Jitsi Meet uses XMPP for signaling, thus the need for the XMPP server. The setup provided
by these containers does not expose the XMPP server to the outside world. Instead, it&#x27;s kept
completely sealed, and routing of XMPP traffic only happens on a user-defined network.</p><p>The XMPP server can be exposed to the outside world, but that&#x27;s out of the scope of this
project.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a>Configuration</h2><p>The configuration is performed via environment variables contained in a <code>.env</code> file. You
can copy the provided <code>env.example</code> file as a reference.</p><p><strong>IMPORTANT</strong>: At the moment, the configuration is not regenerated on every container boot, so
if you make any changes to your <code>.env</code> file, make sure you remove the configuration directory
before starting your containers again.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>CONFIG</code></td><td>Directory where all configuration will be stored</td><td>/opt/jitsi-meet-cfg</td></tr><tr><td><code>TZ</code></td><td>System Time Zone</td><td>Europe/Amsterdam</td></tr><tr><td><code>HTTP_PORT</code></td><td>Exposed port for HTTP traffic</td><td>8000</td></tr><tr><td><code>HTTPS_PORT</code></td><td>Exposed port for HTTPS traffic</td><td>8443</td></tr><tr><td><code>DOCKER_HOST_ADDRESS</code></td><td>IP address of the Docker host, needed for LAN environments</td><td>192.168.1.1</td></tr><tr><td><code>PUBLIC_URL</code></td><td>Public URL for the web service</td><td><a href="https://meet.example.com">https://meet.example.com</a></td></tr></tbody></table><p><strong>NOTE</strong>: The mobile apps won&#x27;t work with self-signed certificates (the default).
See below for instructions on how to obtain a proper certificate with Let&#x27;s Encrypt.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="lets-encrypt-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#lets-encrypt-configuration" title="Direct link to heading">#</a>Let&#x27;s Encrypt configuration</h3><p>If you plan on exposing this container setup to the outside traffic directly and
want a proper TLS certificate, you are in luck because Let&#x27;s Encrypt support is
built right in. Here are the required options:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ENABLE_LETSENCRYPT</code></td><td>Enable Let&#x27;s Encrypt certificate generation</td><td>1</td></tr><tr><td><code>LETSENCRYPT_DOMAIN</code></td><td>Domain for which to generate the certificate</td><td>meet.example.com</td></tr><tr><td><code>LETSENCRYPT_EMAIL</code></td><td>E-Mail for receiving important account notifications (mandatory)</td><td><a href="mailto:alice@atlanta.net">alice@atlanta.net</a></td></tr></tbody></table><p>In addition, you will need to set <code>HTTP_PORT</code> to 80 and <code>HTTPS_PORT</code> to 443.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="sip-gateway-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#sip-gateway-configuration" title="Direct link to heading">#</a>SIP gateway configuration</h3><p>If you want to enable the SIP gateway, these options are required:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>JIGASI_SIP_URI</code></td><td>SIP URI for incoming / outgoing calls</td><td><a href="mailto:test@sip2sip.info">test@sip2sip.info</a></td></tr><tr><td><code>JIGASI_SIP_PASSWORD</code></td><td>Password for the specified SIP account</td><td>passw0rd</td></tr><tr><td><code>JIGASI_SIP_SERVER</code></td><td>SIP server (use the SIP account domain if in doubt)</td><td>sip2sip.info</td></tr><tr><td><code>JIGASI_SIP_PORT</code></td><td>SIP server port</td><td>5060</td></tr><tr><td><code>JIGASI_SIP_TRANSPORT</code></td><td>SIP transport</td><td>UDP</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="jitsi-broadcasting-infrastructure-jibri-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#jitsi-broadcasting-infrastructure-jibri-configuration" title="Direct link to heading">#</a>JItsi BRoadcasting Infrastructure (Jibri) configuration</h3><p>Before running Jibri, you need to set up an ALSA loopback device on the host. This <strong>will not</strong>
work on a non-Linux host.</p><p>For CentOS 7, the module is already compiled with the kernel, so just run:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># configure 5 capture/playback interfaces</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;options snd-aloop enable=1,1,1,1,1 index=0,1,2,3,4&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> /etc/modprobe.d/alsa-loopback.conf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># setup autoload the module</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;snd_aloop&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> /etc/modules-load.d/snd_aloop.conf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># load the module</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">modprobe snd-aloop</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># check that the module is loaded</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lsmod </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> snd_aloop</span></div></div></div></div></div><p>For Ubuntu:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># install the module</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> update </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> linux-image-extra-virtual</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># configure 5 capture/playback interfaces</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;options snd-aloop enable=1,1,1,1,1 index=0,1,2,3,4&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> /etc/modprobe.d/alsa-loopback.conf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># setup autoload the module</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;snd-aloop&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token plain"> /etc/modules</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># check that the module is loaded</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lsmod </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> snd_aloop</span></div></div></div></div></div><p>NOTE: If you are running on AWS you may need to reboot your machine to use the generic kernel instead
of the &quot;aws&quot; kernel. If after reboot, your machine is still using the &quot;aws&quot; kernel, you&#x27;ll need to manually update the grub file. So just run:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># open the grub file in editor</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> /etc/default/grub</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Modify the value of GRUB_DEFAULT from &quot;0&quot; to &quot;1&gt;2&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Save and exit from file</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Update grub</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">update-grub</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Reboot the machine</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">reboot</span><span class="token plain"> now</span></div></div></div></div></div><p>If you want to enable Jibri these options are required:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ENABLE_RECORDING</code></td><td>Enable recording conference to local disk</td><td>1</td></tr></tbody></table><p>Extended Jibri configuration:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>JIBRI_RECORDER_USER</code></td><td>Internal recorder user for Jibri client connections</td><td>recorder</td></tr><tr><td><code>JIBRI_RECORDER_PASSWORD</code></td><td>Internal recorder password for Jibri client connections</td><td>passw0rd</td></tr><tr><td><code>JIBRI_RECORDING_DIR</code></td><td>Directory for recordings inside Jibri container</td><td>/config/recordings</td></tr><tr><td><code>JIBRI_FINALIZE_RECORDING_SCRIPT_PATH</code></td><td>The finalizing script. Will run after recording is complete</td><td>/config/finalize.sh</td></tr><tr><td><code>JIBRI_XMPP_USER</code></td><td>Internal user for Jibri client connections.</td><td>jibri</td></tr><tr><td><code>JIBRI_RECORDER_PASSWORD</code></td><td>Internal user for Jibri client connections</td><td>passw0rd</td></tr><tr><td><code>JIBRI_STRIP_DOMAIN_JID</code></td><td>Prefix domain for strip inside Jibri (please see env.example for details)</td><td>muc</td></tr><tr><td><code>JIBRI_BREWERY_MUC</code></td><td>MUC name for the Jibri pool</td><td>jibribrewery</td></tr><tr><td><code>JIBRI_PENDING_TIMEOUT</code></td><td>MUC connection timeout</td><td>90</td></tr><tr><td><code>JIBRI_LOGS_DIR</code></td><td>Directory for logs inside Jibri container</td><td>/config/logs</td></tr></tbody></table><p>For using multiple Jibri instances, you have to select different loopback interfaces for each instance manually.</p><details><summary>Set interface in file `/home/jibri/.asoundrc` inside a docker container.</summary><p>Default the first instance has:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:Loopback,0,0&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:Loopback,0,1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:Loopback,1,1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:Loopback,1,0&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div></div></div></div></div><p>To setup the second instance, run container with changed <code>/home/jibri/.asoundrc</code>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:Loopback_1,0,0&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:Loopback_1,0,1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:Loopback_1,1,1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:Loopback_1,1,0&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div></div></div></div></div><p>Also you can use numbering id for set loopback interface. The third instance will have <code>.asoundrc</code> that looks like:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:2,0,0&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:2,0,1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:2,1,1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">slave.pcm &quot;hw:2,1,0&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div></details><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="authentication"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#authentication" title="Direct link to heading">#</a>Authentication</h3><p>Authentication can be controlled with the environment variables below. If guest
access is enabled, unauthenticated users will need to wait until a user authenticates
before they can join a room. If guest access is not enabled, every user will need
to authenticate before they can join.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ENABLE_AUTH</code></td><td>Enable authentication</td><td>1</td></tr><tr><td><code>ENABLE_GUESTS</code></td><td>Enable guest access</td><td>1</td></tr><tr><td><code>AUTH_TYPE</code></td><td>Select authentication type (internal, jwt or ldap)</td><td>internal</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="internal-authentication"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#internal-authentication" title="Direct link to heading">#</a>Internal authentication</h4><p>The default authentication mode (<code>internal</code>) uses XMPP credentials to authenticate users.
To enable it you have to enable authentication with <code>ENABLE_AUTH</code> and set <code>AUTH_TYPE</code> to <code>internal</code>,
then configure the settings you can see below.</p><p>Internal users must be created with the <code>prosodyctl</code> utility in the <code>prosody</code> container.
In order to do that, first, execute a shell in the corresponding container:</p><p><code>docker-compose exec prosody /bin/bash</code></p><p>Once in the container, run the following command to create a user:</p><p><code>prosodyctl --config /config/prosody.cfg.lua register TheDesiredUsername meet.jitsi TheDesiredPassword</code></p><p>Note that the command produces no output.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="authentication-using-ldap"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#authentication-using-ldap" title="Direct link to heading">#</a>Authentication using LDAP</h4><p>You can use LDAP to authenticate users. To enable it you have to enable authentication with <code>ENABLE_AUTH</code> and
set <code>AUTH_TYPE</code> to <code>ldap</code>, then configure the settings you can see below.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>LDAP_URL</code></td><td>URL for ldap connection</td><td>ldaps://ldap.domain.com/</td></tr><tr><td><code>LDAP_BASE</code></td><td>LDAP base DN. Can be empty.</td><td>DC=example,DC=domain,DC=com</td></tr><tr><td><code>LDAP_BINDDN</code></td><td>LDAP user DN. Do not specify this parameter for the anonymous bind.</td><td>CN=binduser,OU=users,DC=example,DC=domain,DC=com</td></tr><tr><td><code>LDAP_BINDPW</code></td><td>LDAP user password. Do not specify this parameter for the anonymous bind.</td><td>LdapUserPassw0rd</td></tr><tr><td><code>LDAP_FILTER</code></td><td>LDAP filter.</td><td>(sAMAccountName=%u)</td></tr><tr><td><code>LDAP_AUTH_METHOD</code></td><td>LDAP authentication method.</td><td>bind</td></tr><tr><td><code>LDAP_VERSION</code></td><td>LDAP protocol version</td><td>3</td></tr><tr><td><code>LDAP_USE_TLS</code></td><td>Enable LDAP TLS</td><td>1</td></tr><tr><td><code>LDAP_TLS_CIPHERS</code></td><td>Set TLS ciphers list to allow</td><td>SECURE256:SECURE128</td></tr><tr><td><code>LDAP_TLS_CHECK_PEER</code></td><td>Require and verify LDAP server certificate</td><td>1</td></tr><tr><td><code>LDAP_TLS_CACERT_FILE</code></td><td>Path to CA cert file. Used when server certificate verification is enabled</td><td>/etc/ssl/certs/ca-certificates.crt</td></tr><tr><td><code>LDAP_TLS_CACERT_DIR</code></td><td>Path to CA certs directory. Used when server certificate verification is enabled.</td><td>/etc/ssl/certs</td></tr><tr><td><code>LDAP_START_TLS</code></td><td>Enable START_TLS, requires LDAPv3, URL must be ldap:// not ldaps://</td><td>0</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="authentication-using-jwt-tokens"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#authentication-using-jwt-tokens" title="Direct link to heading">#</a>Authentication using JWT tokens</h4><p>You can use JWT tokens to authenticate users. To enable it you have to enable authentication with <code>ENABLE_AUTH</code> and
set <code>AUTH_TYPE</code> to <code>jwt</code>, then configure the settings you can see below.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>JWT_APP_ID</code></td><td>Application identifier</td><td>my_jitsi_app_id</td></tr><tr><td><code>JWT_APP_SECRET</code></td><td>Application secret known only to your token</td><td>my_jitsi_app_secret</td></tr><tr><td><code>JWT_ACCEPTED_ISSUERS</code></td><td>(Optional) Set asap_accepted_issuers as a comma separated list</td><td>my_web_client,my_app_client</td></tr><tr><td><code>JWT_ACCEPTED_AUDIENCES</code></td><td>(Optional) Set asap_accepted_audiences as a comma separated list</td><td>my_server1,my_server2</td></tr><tr><td><code>JWT_ASAP_KEYSERVER</code></td><td>(Optional) Set asap_keyserver to a url where public keys can be found</td><td><a href="https://example.com/asap">https://example.com/asap</a></td></tr><tr><td><code>JWT_ALLOW_EMPTY</code></td><td>(Optional) Allow anonymous users with no JWT while validating JWTs when provided</td><td>0</td></tr><tr><td><code>JWT_AUTH_TYPE</code></td><td>(Optional) Controls which module is used for processing incoming JWTs</td><td>token</td></tr><tr><td><code>JWT_TOKEN_AUTH_MODULE</code></td><td>(Optional) Controls which module is used for validating JWTs</td><td>token_verification</td></tr></tbody></table><p>This can be tested using the [jwt.io] debugger. Use the following sample payload:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;context&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;user&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;avatar&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://robohash.org/john-doe&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;John Doe&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;email&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;jdoe@example.com&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;aud&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;my_jitsi_app_id&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;iss&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;my_jitsi_app_id&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;sub&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;meet.jitsi&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;room&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;*&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="shared-document-editing-using-etherpad"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#shared-document-editing-using-etherpad" title="Direct link to heading">#</a>Shared document editing using Etherpad</h3><p>You can collaboratively edit a document via [Etherpad]. In order to enable it, set the config options below and run
Docker Compose with the additional config file <code>etherpad.yml</code>.</p><p>Here are the required options:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ETHERPAD_URL_BASE</code></td><td>Set etherpad-lite URL</td><td><a href="http://etherpad.meet.jitsi:9001">http://etherpad.meet.jitsi:9001</a></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="transcription-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#transcription-configuration" title="Direct link to heading">#</a>Transcription configuration</h3><p>If you want to enable the Transcribing function, these options are required:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ENABLE_TRANSCRIPTIONS</code></td><td>Enable Jigasi transcription in a conference</td><td>1</td></tr><tr><td><code>GC_PROJECT_ID</code></td><td><code>project_id</code> from Google Cloud Credentials</td><td></td></tr><tr><td><code>GC_PRIVATE_KEY_ID</code></td><td><code>private_key_id</code> from Google Cloud Credentials</td><td></td></tr><tr><td><code>GC_PRIVATE_KEY</code></td><td><code>private_key</code> from Google Cloud Credentials</td><td></td></tr><tr><td><code>GC_CLIENT_EMAIL</code></td><td><code>client_email</code> from Google Cloud Credentials</td><td></td></tr><tr><td><code>GC_CLIENT_ID</code></td><td><code>client_id</code> from Google Cloud Credentials</td><td></td></tr><tr><td><code>GC_CLIENT_CERT_URL</code></td><td><code>client_x509_cert_url</code> from Google Cloud Credentials</td><td></td></tr></tbody></table><p>For setting the Google Cloud Credentials please read <a href="https://cloud.google.com/text-to-speech/docs/quickstart-protocol">https://cloud.google.com/text-to-speech/docs/quickstart-protocol</a> section &quot;Before you begin&quot; paragraph 1 to 5.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="advanced-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#advanced-configuration" title="Direct link to heading">#</a>Advanced configuration</h3><p>These configuration options are already set and generally don&#x27;t need to be changed.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Default value</th></tr></thead><tbody><tr><td><code>XMPP_DOMAIN</code></td><td>Internal XMPP domain</td><td>meet.jitsi</td></tr><tr><td><code>XMPP_AUTH_DOMAIN</code></td><td>Internal XMPP domain for authenticated services</td><td>auth.meet.jitsi</td></tr><tr><td><code>XMPP_SERVER</code></td><td>Internal XMPP server name xmpp.meet.jitsi</td><td>xmpp.meet.jitsi</td></tr><tr><td><code>XMPP_BOSH_URL_BASE</code></td><td>Internal XMPP server URL for BOSH module</td><td><a href="http://xmpp.meet.jitsi:5280">http://xmpp.meet.jitsi:5280</a></td></tr><tr><td><code>XMPP_MUC_DOMAIN</code></td><td>XMPP domain for the MUC</td><td>muc.meet.jitsi</td></tr><tr><td><code>XMPP_INTERNAL_MUC_DOMAIN</code></td><td>XMPP domain for the internal MUC</td><td>internal-muc.meet.jitsi</td></tr><tr><td><code>XMPP_GUEST_DOMAIN</code></td><td>XMPP domain for unauthenticated users</td><td>guest.meet.jitsi</td></tr><tr><td><code>XMPP_RECORDER_DOMAIN</code></td><td>Domain for the jibri recorder</td><td>recorder.meet.jitsi</td></tr><tr><td><code>XMPP_MODULES</code></td><td>Custom Prosody modules for XMPP_DOMAIN (comma separated)</td><td>info,alert</td></tr><tr><td><code>XMPP_MUC_MODULES</code></td><td>Custom Prosody modules for MUC component (comma separated)</td><td>info,alert</td></tr><tr><td><code>XMPP_INTERNAL_MUC_MODULES</code></td><td>Custom Prosody modules for internal MUC component (comma separated)</td><td>info,alert</td></tr><tr><td><code>GLOBAL_MODULES</code></td><td>Custom prosody modules to load in global configuration (comma separated)</td><td>statistics,alert</td></tr><tr><td><code>GLOBAL_CONFIG</code></td><td>Custom configuration string with escaped newlines</td><td>foo = bar;\nkey = val;</td></tr><tr><td><code>RESTART_POLICY</code></td><td>Container restart policy</td><td>defaults to <code>unless-stopped</code></td></tr><tr><td><code>JICOFO_COMPONENT_SECRET</code></td><td>XMPP component password for Jicofo</td><td>s3cr37</td></tr><tr><td><code>JICOFO_AUTH_USER</code></td><td>XMPP user for Jicofo client connections</td><td>focus</td></tr><tr><td><code>JICOFO_AUTH_PASSWORD</code></td><td>XMPP password for Jicofo client connections</td><td>passw0rd</td></tr><tr><td><code>JVB_AUTH_USER</code></td><td>XMPP user for JVB MUC client connections</td><td>jvb</td></tr><tr><td><code>JVB_AUTH_PASSWORD</code></td><td>XMPP password for JVB MUC client connections</td><td>passw0rd</td></tr><tr><td><code>JVB_STUN_SERVERS</code></td><td>STUN servers used to discover the server&#x27;s public IP</td><td>stun.l.google.com:19302, stun1.l.google.com:19302, stun2.l.google.com:19302</td></tr><tr><td><code>JVB_PORT</code></td><td>UDP port for media used by Jitsi Videobridge</td><td>10000</td></tr><tr><td><code>JVB_TCP_HARVESTER_DISABLED</code></td><td>Disable the additional harvester which allows video over TCP (rather than just UDP)</td><td>true</td></tr><tr><td><code>JVB_TCP_PORT</code></td><td>TCP port for media used by Jitsi Videobridge when the TCP Harvester is enabled</td><td>4443</td></tr><tr><td><code>JVB_BREWERY_MUC</code></td><td>MUC name for the JVB pool</td><td>jvbbrewery</td></tr><tr><td><code>JVB_ENABLE_APIS</code></td><td>Comma separated list of JVB APIs to enable</td><td>none</td></tr><tr><td><code>JIGASI_XMPP_USER</code></td><td>XMPP user for Jigasi MUC client connections</td><td>jigasi</td></tr><tr><td><code>JIGASI_XMPP_PASSWORD</code></td><td>XMPP password for Jigasi MUC client connections</td><td>passw0rd</td></tr><tr><td><code>JIGASI_BREWERY_MUC</code></td><td>MUC name for the Jigasi pool</td><td>jigasibrewery</td></tr><tr><td><code>JIGASI_PORT_MIN</code></td><td>Minimum port for media used by Jigasi</td><td>20000</td></tr><tr><td><code>JIGASI_PORT_MAX</code></td><td>Maximum port for media used by Jigasi</td><td>20050</td></tr><tr><td><code>JIGASI_ENABLE_SDES_SRTP</code></td><td>Enable SDES srtp</td><td>1</td></tr><tr><td><code>JIGASI_SIP_KEEP_ALIVE_METHOD</code></td><td>Keepalive method</td><td>OPTIONS</td></tr><tr><td><code>JIGASI_HEALTH_CHECK_SIP_URI</code></td><td>Health-check extension. Jigasi will call it for health check</td><td>keepalive</td></tr><tr><td><code>JIGASI_HEALTH_CHECK_INTERVAL</code></td><td>Interval of health check in milliseconds</td><td>300000</td></tr><tr><td><code>JIGASI_TRANSCRIBER_RECORD_AUDIO</code></td><td>Jigasi will record audio when transcriber is on</td><td>true</td></tr><tr><td><code>JIGASI_TRANSCRIBER_SEND_TXT</code></td><td>Jigasi will send a transcribed text to the chat when transcriber is on</td><td>true</td></tr><tr><td><code>JIGASI_TRANSCRIBER_ADVERTISE_URL</code></td><td>Jigasi will post an URL to the chat with transcription file</td><td>true</td></tr><tr><td><code>DISABLE_HTTPS</code></td><td>Handle TLS connections outside of this setup</td><td>1</td></tr><tr><td><code>ENABLE_HTTP_REDIRECT</code></td><td>Redirect HTTP traffic to HTTPS (necessary for Let&#x27;s Encrypt)</td><td>1</td></tr><tr><td><code>LOG_LEVEL</code></td><td>Controls which logs are output from prosody and associated modules</td><td>info</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="running-behind-nat-or-on-a-lan-environment"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#running-behind-nat-or-on-a-lan-environment" title="Direct link to heading">#</a>Running behind NAT or on a LAN environment</h3><p>If running in a LAN environment (as well as on the public Internet, via NAT) is a requirement,
the <code>DOCKER_HOST_ADDRESS</code> should be set. This way, the Videobridge will advertise the IP address
of the host running Docker instead of the internal IP address that Docker assigned it, thus making [ICE]
succeed. If your users are coming in over the Internet (and not over LAN), this will likely be your public IP address. If this is not set up correctly, calls will crash when more than two users join a meeting.</p><p>The public IP address is discovered via [STUN]. STUN servers can be specified with the <code>JVB_STUN_SERVERS</code>
option.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="build-instructions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#build-instructions" title="Direct link to heading">#</a>Build Instructions</h2><p>Building your images allows you to edit the configuration files of each image individually, providing more customization for your deployment.</p><p>The docker images can be built by running the <code>make</code> command in the main repository folder. If you need to overwrite existing images from the remote source, use <code>FORCE_REBUILD=1 make</code>.</p><p>If you are on the unstable branch, build the images with <code>FORCE_REBUILD=1 JITSI_RELEASE=unstable make</code>.</p><p>You are now able to run <code>docker-compose up</code> as usual.</p><p>*<em>If you encounted any errors or you found it difficult while following these steps, you can head <a href="https://docs.easyjitsi.com/docs/help">here</a> to seek help from us.</em>**</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/easyjitsi/docs.easyjitsi.com/edit/master/docs/docker.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/jitsiui"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Customizing The Jitsi Meet UI</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/iframeapi"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Integrating the Jitsi Iframe Api »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#quick-start" class="contents__link">Quick start</a><ul><li><a href="#security-note" class="contents__link">Security note</a></li></ul></li><li><a href="#architecture" class="contents__link">Architecture</a><ul><li><a href="#external-ports" class="contents__link">External Ports</a></li><li><a href="#images" class="contents__link">Images</a></li><li><a href="#design-considerations" class="contents__link">Design considerations</a></li></ul></li><li><a href="#configuration" class="contents__link">Configuration</a><ul><li><a href="#lets-encrypt-configuration" class="contents__link">Let&#39;s Encrypt configuration</a></li><li><a href="#sip-gateway-configuration" class="contents__link">SIP gateway configuration</a></li><li><a href="#jitsi-broadcasting-infrastructure-jibri-configuration" class="contents__link">JItsi BRoadcasting Infrastructure (Jibri) configuration</a></li><li><a href="#authentication" class="contents__link">Authentication</a></li><li><a href="#shared-document-editing-using-etherpad" class="contents__link">Shared document editing using Etherpad</a></li><li><a href="#transcription-configuration" class="contents__link">Transcription configuration</a></li><li><a href="#advanced-configuration" class="contents__link">Advanced configuration</a></li><li><a href="#running-behind-nat-or-on-a-lan-environment" class="contents__link">Running behind NAT or on a LAN environment</a></li></ul></li><li><a href="#build-instructions" class="contents__link">Build Instructions</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://easyjitsi.com" href="https://easyjitsi.com">Home Page</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/help">Help</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://t.me/easyjitsisuppport">Telegram</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">License</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/easyjitsi/docs.easyjitsi.com/blob/master/LICENSE">Apache 2.0</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020  Easy Jitsi</div></div></div></footer>
</div>

<script src="/styles.82f14910.js"></script>

<script src="/runtime~main.148c955e.js"></script>

<script src="/main.1702c4c9.js"></script>

<script src="/1.2b455fe7.js"></script>

<script src="/2.2ed969c9.js"></script>

<script src="/3.a529c8c9.js"></script>

<script src="/1be78505.f5a7fa9c.js"></script>

<script src="/20ac7829.25a5a62a.js"></script>

<script src="/17896441.d94633b5.js"></script>

<script src="/93234bd6.783c9667.js"></script>


</body>
</html>